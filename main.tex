\input{./src/main.sty}

\begin{document}

\input{./src/titlepage.tex}

\pagebreak

\begin{enumerate}
  \item Using the regular solution model, determine the phase diagram
    of an isomorphous alloy that has
    been determined to have the solution parameters shown below. Use
    a computer (e.g., Python) to plot
    the free energy curves for strategic temperatures. The maximum
    temperature required for plotting
    your G-X curves should be easy to figure out. Figuring out what
    other strategic temperatures to use
    will require either playing around with the plots with respect to
    temperature (easy but potentially
    tedious) or using your thermodynamic prowess to directly solve
    for a useful intermediate temperature
    (harder and potentially much faster, but not required on this
    assignment). Then, produce at least
    eight different free energy plots at strategic temperatures. For
    this assignment, you can graphically
    determine the phase boundaries on the eight different plots and
    fill in the rest by hand to produce the
    phase diagram (i.e., connect the dots).

    \begin{align*}
      T_1^{\alpha\to L} &= \SI{1550}{\kelvin} \\
      T_2^{\alpha\to L} &= \SI{1200}{\kelvin} \\
      \Delta S_1^{0,\alpha\to L} &= \SI{8}{\joule\per\mole\per\kelvin} \\
      \Delta S_2^{0,\alpha\to L} &= \SI{11}{\joule\per\mole\per\kelvin} \\
      \omega_0^\alpha &= \SI{19500}{\joule\per\mole} \\
      \omega_0^L &= \SI{1500}{\joule\per\mole}
    \end{align*}

    \boxedanswer{
      The following phase diagram was made using the provided
      thermodynamic data.
      The details are provided below. Refer to the code appended to
      the end of this
      document for implementation details.
      \centering
      \includegraphics[width=0.4\textwidth]{./assets/phase_diagram.png}
    }

    \pagebreak

    \boxedanswer{
      Use the solid $\alpha$ phase as a reference. The regular
      solution model gives the following (for the solid phase):

      \begin{equation*}
        \Delta G_{\text{mix}}^{(i)}(x,T) = \omega^{(i)}x(1-x) +
        RT[x\ln x + (1 - x)\ln (1-x)]
      \end{equation*}

      For the liquid phase, apply an offset:

      \begin{align*}
        \Delta G^L(x,T) &= (1 - X)\Delta G_1^\circ(T) + x\Delta
        G_2^\circ(T) + \Delta G_{\text{mix}}^{(\alpha)}(x,T) \\
        &
        \begin{aligned}
          \Delta H_f &= \Delta S^\circ T_m \\
          \Delta G^\circ &=\Delta S^\circ T_m - \Delta S^\circ T \\
          \Delta G_1^\circ(T) &= \Delta S_1^0(T_{m,1} - T) \\
          \Delta G_2^\circ(T) &= \Delta S_2^0(T_{m,2} - T) \\
        \end{aligned}
      \end{align*}

      The chemical potential can be used to find tangent lines. A
      non-linear 2D solver
      can be used to find points on both lines that have matching slopes;

      \begin{align*}
        \mu_B^{(i)}(x,T) &=  \frac{\delta G^{(i)}(x,T)}{\delta x},
        \mu_A^{(i)}(x,T) = G^{(i)}(x,T) - x\mu_B^{(i)}(x,T)
      \end{align*}

      Take the analytical derivative:

      \begin{align*}
        \frac{\delta}{\delta x}\left[\omega x(1 - x) + RT(x\ln x +
        (1-x)\ln(1 - x))\right] = \omega(1 - 2x) + RT\ln\frac{x}{1 - x} \\
        \mu_A^\alpha(x_\alpha,T) = \mu_A^L(x_L,T), \qquad
        \mu_B^\alpha(x_\alpha, T) = \mu_B^L(x_L, T)
      \end{align*}

      We can pick 8 points with the following justifications:

      \begin{enumerate}
        \item \SI{800}{K}: Well below the melting point of both
          phases, there should
          only be $\alpha$ present.
        \item \SI{1000}{K}: Closer to the melting point of component 2, a
          liquid transition may be observed.
        \item \SI{1200}{K}: The melting point of component 2, a
          liquid transition
          should be observed
          at this point.
        \item \SI{1300}{K}: The solid range should be observed to decrease
          as the temperature is increased over component 2's melting point.
        \item \SI{1450}{K}: Between the melting points of component 1 and 2.
          There should be a fairly narrow solid range.
        \item \SI{1500}{K}: Close to the melting point of component 1. A very
          narrow solid range should be observed.
        \item \SI{1550}{K}: Melting point of component 1. There
          should be no solid phase, except  at $X_2 = 0$.
        \item \SI{1650}{K}: Above the melting point of component 1. There
          should be no solid phase and the liquid phase should be
          stable everywhere.
      \end{enumerate}

    }

    \pagebreak

    \boxedanswer{
      \centering
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_800.png}
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_1000.png}
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_1200.png}
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_1300.png}
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_1450.png}
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_1500.png}
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_1550.png}
      \includegraphics[width=0.4\textwidth]{./assets/G_vs_x_T_1650.png}
    }

    \pagebreak

  \item The free energy of mixing of a liquid solution is accurately modeled by:

    \begin{equation*}
      \Delta G_{\text{mix}}\{L; L\}=8400X_AX_B+RT(X_A\ln X_A+XB\ln X_B)
    \end{equation*}

    \begin{enumerate}[(a)]
      \item Compute and plot (i.e., using a computer) the activity of
        component B ($a_B$) as a function of
        composition at \SI{600}{\kelvin} in this solution.

        \boxedanswer{

          \begin{align*}
            \Delta \overline G_B &= \Delta G_{\text{mix}} + (1 - X_B)
            \frac{d \Delta G_{\text{mix}}}{dX_B} \tag{8.28} \\
            \Delta \overline G_B &= RT\ln a_B \\
            a_B &= \exp\left(\frac{\Delta G_{\text{mix}} + (1 - X_B)
            \frac{d \Delta G_{\text{mix}}}{dX_B}}{RT}\right)
          \end{align*}

          \centering
          \includegraphics[width=0.6\textwidth]{./assets/fig_1.png}
        }

        \pagebreak

      \item Now, plot the same thing, but assume the reference states in
        the plot are $\{L; \alpha\}$ and pure B has a
        free energy of fusion of \SI{-1200}{\joule\per\mole} at
        \SI{600}{\kelvin}.

        \boxedanswer{

          To account for the change in reference, the
          free energy in the exponential term above must be
          augmented by adding in the free energy of fusion.

          \begin{align*}
            \mu_B - \mu_B^{(\alpha)} &= (\mu_B -
            \mu_B^{\text{(liquid)}}) + \Delta G_{\text{fus}} \\
            a_B^{(\alpha)} &=
            a_B^{\text{(liquid)}}\exp\left(\frac{\Delta
            G_{\text{fus}}}{RT}\right)
          \end{align*}

          \centering
          \includegraphics[width=0.6\textwidth]{./assets/fig_2.png}

        }

    \end{enumerate}

    \pagebreak

  \item Given the following equation for excess free energy of mixing
    of a solution, determine the listed
    changes in properties due to mixing \SI{35}{\mole} of A with
    \SI{65}{\mole}
    of B at \SI{298}{\kelvin} and atmospheric
    pressure. I suggest you work symbolically until calculating the
    final answer of each part:

    \begin{align*}
      \Delta G_{\text{mix}}^{\text{xs}} &= a(1 - bT)(1 - cP)X_AX_B \\
      a &= \SI{10500}{\joule\per\mole} \\
      b &= \SI{3e-4}{\per\kelvin} \\
      c &= \SI{8e-10}{\per\pascal}
    \end{align*}

    \begin{enumerate}[(a)]
      \item  Total Gibbs free energy change of mixing.

        \boxedanswer{
          \begin{align*}
            \Delta G_{\text{mix}}^{\text{total}} &= n_\text{tot}\left[\Delta
              G_{\text{mix}}^{\text{ID}} + \Delta
            G_{\text{mix}}^{\text{EX}}\right] \\
            &
            \begin{aligned}
              G_{\text{mix}}^{\text{ID}} &= RT(X_A\ln X_A + X_B\ln X_B)  \\
              G_{\text{mix}}^{\text{EX}} &= a(1 - bT)(1 - cP)X_AX_B \\
              X_B &= 1 - X_A \\
            \end{aligned} \\
            \Delta G_{\text{mix}}^{\text{total}} &= n_\text{tot}[RT(X_A\ln X_A +
            (1 - X_A)\ln (1 - X_A)) + a(1 - bT)(1 - cP)X_A(1 - X_A)] \\
            &
            \begin{aligned}
              R &= \SI{8.314}{\joule\per\mole\kelvin} \\
              T &= \SI{298}{\kelvin} \\
              X_A &= \frac{35}{65 + 35} = 0.35 \\
              1 - X_A &= 1 - 0.35  = 0.65 \\
              n_\text{tot} &= \SI{35}{\mole} + \SI{65}{\mole}  =
              \SI{100}{\mole}\\
            \end{aligned} \\
            \Delta G_{\text{mix}}^{\text{total}} &=
            \SI{100}{\mole}[(\SI{8.314}{\joule\per\mole\kelvin})(\SI{298}{\kelvin})
              ((0.35)\ln (0.35) + (0.65)\ln (0.65)) + \\
              & (\SI{10500}{\joule\per\mole})(1 - (\SI{3e-4}{\per\kelvin})
              (\SI{298}{\kelvin}))(1 -
            (\SI{8e-10}{\per\pascal})(\SI{101325}{\pascal}))(0.35)(0.65)] \\
            \Aboxed{\Delta G_{\text{mix}}^{\text{total}} &= \SI{57092}{\joule}}
          \end{align*}
        }
      \item  Partial molar Gibbs free energy change of component A.

        \boxedanswer{
          \begin{align*}
            \overline G_A &= \mu_A = RT\ln X_A + \mu_A^{EX} \\
            &
            \begin{aligned}
              \mu_A^{EX} &= G^{EX} + (1 - X_A)\frac{dG^{EX}}{dX_A} \\
              &
              \begin{aligned}
                G^{\text{EX}} &= a(1 - bT)(1 - cP)X_AX_B \\
                \frac{dG^{EX}}{dX_A} &=
                \frac{d}{dX_A}\left[a(1 - bT)(1
                - cP)X_A(1 - X_A)\right] \\
                \frac{dG^{EX}}{dX_A} &= a(1 - bT)(1
                - cP)(1 - 2X_A) \\
              \end{aligned} \\
            \end{aligned} \\
            \overline G_A &= RT\ln X_A - a(1 - bT)(1 - cP)(1 -
            X_A)\left[1 + X_A\right] \\
            \Aboxed{\overline G_A &= \SI{1438}{\joule\per\mole}}
          \end{align*}
        }

        \pagebreak

      \item  Partial molar Gibbs free energy change of component B.

        \boxedanswer{
          Similar to the previous part:

          \begin{align*}
            \overline G_B &= \mu_B = RT\ln X_B + \mu_B^{EX} \\
            &
            \begin{aligned}
              \mu_A^{EX} &= G^{EX} + (1 - X_A)\frac{dG^{EX}}{dX_A} \\
              &
              \begin{aligned}
                G^{\text{EX}} &= a(1 - bT)(1 - cP)X_AX_B \\
                \frac{dG^{EX}}{dX_B} &=
                \frac{d}{dX_B}\left[a(1 - bT)(1
                - cP)X_B(1 - X_B)\right] \\
                \frac{dG^{EX}}{dX_B} &= a(1 - bT)(1
                - cP)(1 - 2X_B) \\
              \end{aligned} \\
            \end{aligned} \\
            \overline G_B &= RT\ln X_B - a(1 - bT)(1 - cP)(1 -
            X_B)\left[1 + X_B\right] \\
            \Aboxed{\overline G_B &= \SI{103.8}{\joule\per\mole}}
          \end{align*}

        }
      \item  Total entropy change of mixing.

        \boxedanswer{
          \begin{align*}
            \Delta S_{\text{total}} &= -\left( \frac{\delta \Delta
            G_{\text{total}}}{\delta T}\right)_P \\
            &
            \begin{aligned}
              \frac{\delta \Delta G_{\text{total}}}{\delta T} &=
              RT(X_A\ln X_A + X_B \ln X_B) + a(1 - bT)(1 - cP)X_AX_B \\
            \end{aligned} \\
            \Delta S_{\text{total}} &= -n[R(X_A\ln X_A + X_B \ln X_B)
            - ab(1 - cP)X_AX_B] \\
            \Aboxed{\Delta S_{\text{total}} &= \SI{609.9}{\joule\per\kelvin}}
          \end{align*}
        }
      \item  Total enthalpy change of mixing.

        \boxedanswer{
          \begin{align*}
            \Delta H_{\text{total}} &= \Delta G_{\text{total}} +
            T\Delta S_{\text{total}} \\
            \Aboxed{\Delta H_{\text{total}} &= \SI{238855}{\joule}}
          \end{align*}
        }
      \item  Is this a regular solution? Concisely justify your answer.

        \boxedanswer{
          A regular solution utilizes a temperature-independent interaction
          parameter with no excess entropy. In this case, the factor
          $a(1 - bT)(1 - cP)$
          in the excess Gibbs free energy is temperature dependent. This is
          not a regular solution.
        }
    \end{enumerate}

\end{enumerate}

\pagebreak

\section*{Supporting code:}
\inputminted{julia}{./calculations/src/calculations.jl}

\end{document}
